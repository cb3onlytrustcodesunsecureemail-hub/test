<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>VAULT</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        --bg-dark: #000000;
        --fg-dim: #6e6e6e;
        --fg-light: #0b0b0b;
        --bg-light: #f4f1ec;

        --spacing-lg: 48px;
        --spacing-md: 26px;
        --spacing-sm: 14px;
      }

      body {
        margin: 0;
        font-family: Arial, Helvetica, system-ui, sans-serif;
        text-transform: uppercase;
        letter-spacing: 0.035em;
        font-size: 15px;
        background: var(--bg-dark);
        color: var(--fg-dim);
      }

      a {
        color: var(--fg-dim);
        text-decoration: none;
      }

      body.light {
        background: var(--bg-light);
        color: var(--fg-light);
      }

      .topbar {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-lg);
        box-sizing: border-box;
        opacity: 0.65;
      }

      .top-left {
        font-size: 14px;
        cursor: pointer;
        text-decoration: none;
        color: var(--fg-dim);
        transition: color 0.2s ease;
      }
      .top-left:hover {
        color: black;
      }

      .top-right {
        font-size: 14px;
        cursor: pointer;
        text-decoration: none;
        color: var(--fg-light); /* matches light mode */
        transition: color 0.2s ease, transform 0.2s ease;
        margin-left: 16px; /* space between hamburger and link */
      }

      .top-right:hover {
        color: black;
        transform: scale(1.12); /* match social buttons hover */
      }

      .center-title {
        flex: 1;
        text-align: center;
        font-size: 14px;
        font-weight: normal;
      }

      .artist-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
      }

      .artist-stack .produced-for {
        font-size: 12px;
        margin: 8px 0;
        opacity: 0.65;
      }

      .artist-stack .artist-name {
        font-size: 18px;
        margin: 4px 0;
        cursor: pointer;
        text-decoration: none;
        color: var(--fg-dim);
        display: block;
        transition: color 0.2s ease, transform 0.2s ease;
      }
      .artist-stack .artist-name:hover {
        color: black;
        transform: scale(1.05);
      }

      .albums-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 4px;
        padding-bottom: var(--spacing-lg);
      }

      .album-link img {
        max-width: 220px;
        width: 100%;
        height: auto;
        cursor: pointer;
        border: 2px solid rgba(255, 255, 255, 0.05);
        transition: transform 0.2s ease, border-color 0.2s ease;
      }
      .album-link img:hover {
        transform: scale(1.05);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .section-title {
        margin-top: var(--spacing-lg);
        margin-bottom: var(--spacing-sm);
        font-size: 14px;
        text-align: left;
      }

      /* track list container */
      .archive-content {
        max-width: 500px;
        margin: 0 auto;
        padding: 0 var(--spacing-sm);
      }

      /* track item */
      .track-item {
        margin-top: var(--spacing-sm);
        font-size: 12px;
        text-align: left;
        border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        padding-bottom: 8px;
        padding-top: 8px;
      }

      .track-header {
        display: flex;
        align-items: center;
        gap: 12px;
        justify-content: space-between;
      }

      .track-title {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
        cursor: default;
      }

      .toggle-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.06);
        background: rgba(255, 255, 255, 0.02);
        color: var(--fg-dim);
        font-weight: 700;
        cursor: pointer;
        text-transform: none;
      }
      .toggle-btn:hover {
        background: rgba(255, 255, 255, 0.04);
        color: black;
      }

      .track-meta {
        font-size: 11px;
        opacity: 0.65;
      }

      .audio-wrap {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.35s ease, opacity 0.25s ease;
        opacity: 0;
      }

      .audio-wrap.open {
        opacity: 1;
      }

      audio {
        display: block;
        width: 100%;
        max-width: 450px;
        margin: var(--spacing-sm) 0 var(--spacing-md) 0;
        filter: invert(90%);
      }
      body.light audio {
        filter: invert(0%);
      }

      /* Collapsible section (existing) */
      .collapsible-header-feat {
        cursor: pointer;
        margin-top: 0px;
        opacity: 0.65;
        transition: color 0.2s ease;
      }
      .collapsible-header-feat:hover {
        color: black;
      }

      .collapsible-content-feat {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.35s ease;
        margin-top: 6px;
      }

      .features-inner {
        font-size: 12px;
        text-align: left;
        line-height: 1.55;
        padding-bottom: 12px;
        text-transform: uppercase;
        letter-spacing: 0.035em;
        opacity: 0.65;
      }

      .archive-content .track,
      .archive-content .collapsible-header-feat,
      .archive-content .collapsible-content-feat {
        text-align: left;
      }

      .date-badge {
        display: inline-block;
        font-size: 10px;
        padding: 2px 6px;
        margin-left: 8px;
        border-radius: 4px;
        background: rgba(255, 255, 255, 0.08);
        color: var(--fg-dim);
        letter-spacing: 0.03em;
      }

      body.light .date-badge {
        background: rgba(0, 0, 0, 0.08);
        color: var(--fg-light);
      }

      /* keep menu styles and vault visuals intact */
      #vault-lock {
        position: fixed;
        inset: 0;
        background: var(--bg-dark);
        color: var(--fg-dim);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      body.light #vault-lock {
        background: var(--bg-light);
        color: var(--fg-light);
      }
      /* menu/hamburger styles retained */
      .menu-toggle {
        background: none;
        border: none;
        color: var(--fg-light);
        font-size: 26px;
        cursor: pointer;
        opacity: 0.75;
        position: relative;
        z-index: 11000; /* ABOVE EVERYTHING */
      }
      .menu-toggle.hidden {
        display: none;
      }
      .menu-overlay {
        position: fixed;
        inset: 0;
        background: var(--bg-light);
        color: var(--fg-light);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 32px;
        transform: translateY(-100%);
        transition: transform 0.35s ease;
        z-index: 10999;
      }
      .menu-overlay.open {
        transform: translateY(0);
      }
      .menu-close {
        position: absolute;
        top: 48px;
        left: 48px;
        background: none;
        border: none;
        color: var(--fg-dim);
        font-size: 30px;
        cursor: pointer;
        z-index: 11001;
      }

      /* small responsive */
      @media (max-width: 520px) {
        .toggle-btn {
          width: 28px;
          height: 28px;
        }
        audio {
          max-width: 100%;
        }
      }
    </style>
  </head>
  <body class="light">
    <div class="topbar">
      <button class="menu-toggle" id="menuToggle"></button>
    </div>
    <div class="archive-content">
      <div class="features-inner">
        <p>Unreleased Vault</p>
        <p>
          All vocal and musical features presented here were recorded or created
          directly with the listed artists, except for the following
          contributors:
        </p>
        <p>Lil Wayne &amp; Gucci Mane</p>
        <p>
          These appearances were obtained as lawful, purchased, non-exclusive
          features in cooperation with Holy Toledo Productions.
        </p>
        <p>
          Verification documents can be provided upon request
          <strong
            ><a href="https://form.jotform.com/253186858300056">here</a></strong
          >.
        </p>
      </div>

      <!-- Track list with collapsible toggles -->
      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle ALL IT TOOK"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">ALL LOVE</div>
              <div class="track-meta">DEMO TRACKS</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">ALL LOVE (feat. shuvame)</div>
          <audio controls preload="metadata">
            <source src="" />
          </audio>
          <div class="track-meta">ALL LOVE (feat. mortox.)</div>
          <audio controls preload="metadata">
            <source src="" />
          </audio>
          <div class="track-meta">ALL LOVE (feat. AKdove)</div>
          <audio controls preload="metadata">
            <source src="" />
          </audio>
          <div class="track-meta">ALL LOVE (feat. nicky)</div>
          <audio controls preload="metadata">
            <source src="" />
          </audio>
        </div>
      </div>

      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle ALL IT TOOK"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">BY ANY MEANS</div>
              <div class="track-meta">DEMO TRACKS</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">BY ANY MEANS (feat. saveaj)</div>
          <audio controls preload="metadata">
            <source src="" />
          </audio>
          <div class="track-meta">BY ANY MEANS (feat. Jerico)</div>
          <audio controls preload="metadata">
            <source src="" />
          </audio>
        </div>
      </div>

      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle ALL IT TOOK"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">ALL IT TOOK</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">ALL IT TOOK (feat. Zandoe)</div>
          <audio controls preload="metadata">
            <source
              src="https://pub-6225413471cd4ec58de33090df3e74c3.r2.dev/01_all_it_took_zandoe.wav"
            />
          </audio>
        </div>
      </div>

      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle WE SMOKE"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">WE SMOKE</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">
            WE SMOKE (feat. MARCO PLUS, holyspiritcomedown &amp; Albe Back)
          </div>
          <audio controls preload="metadata">
            <source
              src="https://pub-6225413471cd4ec58de33090df3e74c3.r2.dev/03_we_smoke_marco_albe.wav"
            />
          </audio>
        </div>
      </div>

      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle LOCATION"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">LOCATION</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">LOCATION (feat. Lil Wayne)</div>
          <audio controls preload="metadata">
            <source
              src="https://pub-6225413471cd4ec58de33090df3e74c3.r2.dev/wayne%20mix.wav"
            />
          </audio>
        </div>
      </div>

      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle ALL IT TOOK"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">DISTANCE</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">
            DISTANCE (feat. Dremmz, Chad Spencer & Ethan Ezra)
          </div>
          <audio controls preload="metadata">
            <source
              src="https://pub-6225413471cd4ec58de33090df3e74c3.r2.dev/01_all_it_took_zandoe.wav"
            />
          </audio>
        </div>
      </div>

      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle MALIBU"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">MALIBU</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">MALIBU (feat. Gucci Mane)</div>
          <audio controls preload="metadata">
            <source
              src="https://pub-6225413471cd4ec58de33090df3e74c3.r2.dev/04_MALIBU_FT_GUCCI_MANE.mp3"
            />
          </audio>
        </div>
      </div>

      <div class="track-item">
        <div class="track-header">
          <div class="track-title">
            <button
              class="toggle-btn"
              aria-expanded="false"
              aria-label="Toggle AGAIN"
            >
              <span class="icon">+</span>
            </button>
            <div>
              <div class="track-name">AGAIN</div>
            </div>
          </div>
        </div>
        <div class="audio-wrap" data-track>
          <br /><br />
          <div class="track-meta">AGAIN (feat. Albe Back)</div>
          <audio controls preload="metadata">
            <source
              src="https://pub-6225413471cd4ec58de33090df3e74c3.r2.dev/02_AGAIN_FT_ALBE_BACK.wav"
            />
          </audio>
        </div>
      </div>

      <br /><br />
    </div>

    <!-- (Optional) Vault lock markup that your script references -->
    <div id="vault-lock" style="display: none">
      <div id="vault-lock-box">
        <p>Vault locked</p>
        <input id="vault-password" placeholder="password" />
        <button id="vault-submit">Unlock</button>
        <div id="vault-error">Wrong password</div>
      </div>
    </div>

    <script>
      /* ---------- audio click blip (keeps original UX) ---------- */
      let ctx = null;
      function clickBlip() {
        if (!ctx)
          ctx = new (window.AudioContext || window.webkitAudioContext)();

        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        osc.type = "triangle";
        osc.frequency.setValueAtTime(520, ctx.currentTime);

        gain.gain.setValueAtTime(0.25, ctx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.05);

        osc.connect(gain);
        gain.connect(ctx.destination);

        osc.start();
        osc.stop(ctx.currentTime + 0.05);
      }

      /* ---------- menu toggle logic (retain original) ---------- */
      const menuToggle = document.getElementById("menuToggle");
      const menuOverlay = document.getElementById("menuOverlay");
      const menuClose = document.getElementById("menuClose");

      if (menuToggle) {
        menuToggle.addEventListener("click", () => {
          menuOverlay.classList.add("open");
          menuToggle.classList.add("hidden");
        });
      }
      if (menuClose) {
        menuClose.addEventListener("click", () => {
          menuOverlay.classList.remove("open");
          menuToggle.classList.remove("hidden");
        });
      }

      /* ---------- collapsible per-track toggle logic ---------- */
      (function initTrackToggles() {
        // find all toggle buttons and audio containers
        const toggleBtns = Array.from(document.querySelectorAll(".toggle-btn"));

        toggleBtns.forEach((btn) => {
          // find the parent track-item element, and the audio-wrap within it
          const trackItem = btn.closest(".track-item");
          const audioWrap = trackItem
            ? trackItem.querySelector(".audio-wrap")
            : null;
          const icon = btn.querySelector(".icon");

          if (!audioWrap) return;

          // helper: close any other open track when opening a new one (optional behavior)
          function closeOtherTracks() {
            document
              .querySelectorAll(".audio-wrap.open")
              .forEach((openWrap) => {
                if (openWrap === audioWrap) return;
                openWrap.classList.remove("open");
                openWrap.style.maxHeight = "0px";
                const otherBtn = openWrap
                  .closest(".track-item")
                  .querySelector(".toggle-btn");
                if (otherBtn) {
                  otherBtn.setAttribute("aria-expanded", "false");
                  const otherIcon = otherBtn.querySelector(".icon");
                  if (otherIcon) otherIcon.textContent = "+";
                }
              });
          }

          btn.addEventListener("click", (e) => {
            e.stopPropagation(); // avoid bubbling to body click blip
            const isOpen = audioWrap.classList.contains("open");

            if (isOpen) {
              // close
              audioWrap.classList.remove("open");
              audioWrap.style.maxHeight = "0px";
              btn.setAttribute("aria-expanded", "false");
              if (icon) icon.textContent = "+";
            } else {
              // open (close others first)
              closeOtherTracks();

              audioWrap.classList.add("open");
              // set to scrollHeight to animate
              audioWrap.style.maxHeight = audioWrap.scrollHeight + "px";
              btn.setAttribute("aria-expanded", "true");
              if (icon) icon.textContent = "âˆ’";

              // optionally focus the audio control for keyboard users
              const aud = audioWrap.querySelector("audio");
              if (aud) aud.focus();
            }

            clickBlip();
          });

          // Allow clicking the track name to toggle as well
          const titleArea = trackItem.querySelector(".track-title");
          if (titleArea) {
            titleArea.addEventListener("click", (ev) => {
              // prevent double firing if click was on the button
              if (ev.target.closest(".toggle-btn")) return;
              btn.click();
            });
          }
        });
      })();

      /* ---------- global click sound but ignore audio control clicks ---------- */
      document.addEventListener("click", (e) => {
        if (e.target.tagName === "AUDIO" || e.target.closest("audio")) return;
        if (e.target.tagName === "VIDEO" || e.target.closest("video")) return;
        // ignore clicks that are toggle buttons to reduce double-sounds
        if (e.target.closest(".toggle-btn")) return;
        clickBlip();
      });

      /* ---------- existing vault/menu logic (kept for compatibility) ---------- */
      const vaultLock = document.getElementById("vault-lock");
      const vaultSubmit = document.getElementById("vault-submit");
      const vaultPassword = document.getElementById("vault-password");
      const vaultError = document.getElementById("vault-error");

      if (vaultLock && vaultSubmit && vaultPassword) {
        vaultSubmit.addEventListener("click", () => {
          if (vaultPassword.value.trim().toUpperCase() === "PASSWORD") {
            vaultLock.style.display = "none";
            clickBlip();
          } else {
            vaultError.style.opacity = 1;
            clickBlip();
          }
        });

        vaultPassword.addEventListener("keypress", (e) => {
          if (e.key === "Enter") vaultSubmit.click();
        });
      }
    </script>
  </body>
</html>
